<svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
    <!-- Background -->
    <rect width="800" height="500" fill="white"/>
    
    <!-- Title -->
    <text x="400" y="60" text-anchor="middle" font-family="Arial" font-size="24" font-weight="bold" fill="#1a1a1a">
        Guacamole VNC System Architecture
    </text>

    <!-- Internet Cloud -->
    <path d="M100,180 C100,130 170,110 240,110 C310,110 350,150 350,180 C400,150 450,170 450,220 C450,270 400,290 350,290 C350,320 310,340 240,340 C170,340 100,320 100,270 C70,270 50,230 100,180" 
          fill="#60a5fa" fill-opacity="0.2" stroke="#60a5fa" stroke-width="2"/>
    <text x="240" y="220" text-anchor="middle" font-family="Arial" font-size="18" fill="#1a1a1a">Internet</text>

    <!-- Cloudflare -->
    <rect x="480" y="180" width="120" height="80" rx="10" fill="#f97316" fill-opacity="0.2" stroke="#f97316" stroke-width="2"/>
    <text x="540" y="225" text-anchor="middle" font-family="Arial" font-size="14" fill="#1a1a1a">Cloudflare Tunnel</text>

    <!-- Server Box -->
    <rect x="630" y="100" width="160" height="300" rx="10" fill="#f8fafc" stroke="#64748b" stroke-width="2"/>
    <text x="710" y="130" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#1a1a1a">Ubuntu Server</text>

    <!-- Guacamole -->
    <rect x="640" y="150" width="140" height="60" rx="8" fill="#22c55e" fill-opacity="0.2" stroke="#22c55e" stroke-width="2"/>
    <text x="710" y="175" text-anchor="middle" font-family="Arial" font-size="14" fill="#1a1a1a">Apache Guacamole</text>
    <text x="710" y="195" text-anchor="middle" font-family="Arial" font-size="12" fill="#4b5563">Web Application (Tomcat)</text>

    <!-- VNC Server -->
    <rect x="640" y="230" width="140" height="60" rx="8" fill="#8b5cf6" fill-opacity="0.2" stroke="#8b5cf6" stroke-width="2"/>
    <text x="710" y="255" text-anchor="middle" font-family="Arial" font-size="14" fill="#1a1a1a">VNC Server (x11vnc)</text>
    <text x="710" y="275" text-anchor="middle" font-family="Arial" font-size="12" fill="#4b5563">Virtual Display (Xvfb)</text>

    <!-- Desktop Environment -->
    <rect x="640" y="310" width="140" height="40" rx="8" fill="#0ea5e9" fill-opacity="0.2" stroke="#0ea5e9" stroke-width="2"/>
    <text x="710" y="335" text-anchor="middle" font-family="Arial" font-size="14" fill="#1a1a1a">XFCE Desktop</text>

    <!-- TTYD Terminal -->
    <rect x="630" y="420" width="140" height="40" rx="8" fill="#dc2626" fill-opacity="0.2" stroke="#dc2626" stroke-width="2"/>
    <text x="700" y="445" text-anchor="middle" font-family="Arial" font-size="14" fill="#1a1a1a">TTYD Terminal</text>

    <!-- Port Labels -->
    <text x="625" y="170" text-anchor="end" font-family="Arial" font-size="12" fill="#4b5563">:8080</text>
    <text x="625" y="270" text-anchor="end" font-family="Arial" font-size="12" fill="#4b5563">:5901</text>
    <text x="615" y="440" text-anchor="end" font-family="Arial" font-size="12" fill="#4b5563">:3001</text>

    <!-- Connection Lines -->
    <line x1="450" y1="220" x2="480" y2="220" stroke="#64748b" stroke-width="2"/>
    <line x1="600" y1="220" x2="630" y2="180" stroke="#64748b" stroke-width="2"/>
    <line x1="700" y1="210" x2="700" y2="230" stroke="#64748b" stroke-width="2"/>
    <line x1="700" y1="290" x2="700" y2="310" stroke="#64748b" stroke-width="2"/>
    <line x1="580" y1="260" x2="630" y2="440" stroke="#64748b" stroke-width="2" stroke-dasharray="4"/>

    <!-- Components Legend -->
    <rect x="100" y="380" width="260" height="80" rx="8" fill="white" stroke="#64748b" stroke-width="1"/>
    <text x="120" y="405" font-family="Arial" font-size="14" font-weight="bold" fill="#1a1a1a">Components:</text>
    
    <!-- Legend items -->
    <g transform="translate(120,425)">
        <circle cx="0" cy="0" r="5" fill="#f97316" fill-opacity="0.4"/>
        <text x="12" y="4" font-family="Arial" font-size="12" fill="#1a1a1a">Security</text>
        <circle cx="70" cy="0" r="5" fill="#22c55e" fill-opacity="0.4"/>
        <text x="82" y="4" font-family="Arial" font-size="12" fill="#1a1a1a">Web</text>
        <circle cx="0" cy="20" r="5" fill="#8b5cf6" fill-opacity="0.4"/>
        <text x="12" y="24" font-family="Arial" font-size="12" fill="#1a1a1a">Remote</text>
        <circle cx="70" cy="20" r="5" fill="#dc2626" fill-opacity="0.4"/>
        <text x="82" y="24" font-family="Arial" font-size="12" fill="#1a1a1a">Terminal</text>
    </g>
</svg>